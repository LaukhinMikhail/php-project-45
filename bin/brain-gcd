#!/usr/bin/env php


<?php

// Путь который будет использован при глобальной установке пакета
$autoloadPath1 = __DIR__ . '/../../../autoload.php';

// Путь для локальной работы с проектом
$autoloadPath2 = __DIR__ . '/../vendor/autoload.php';

if (file_exists($autoloadPath1)) {
    require_once $autoloadPath1;
} else {
    require_once $autoloadPath2;
}

$name = BrainGames\Engine\greeting();

print_r ("Welcome to the Brain Games!
Find the greatest common divisor of given numbers.
\n");

$trueCount = 0;
$movesNum = 3;


while ($trueCount < $movesNum) {
    $randomNumber1 = rand(1, 99);
    $randomNumber2 = rand(1, 99);
    $currentResponse = BrainGames\Engine\gcd($randomNumber1, $randomNumber2);
         
    print_r ("Question: " . $randomNumber1 . " " . $randomNumber2 . ". Your answer: " . "\n");
    
    $response = trim(fgets(STDIN));
    if ($response != $currentResponse) {
        print_r("\"{$response}\" is wrong answer ;(. Correct answer was \"{$currentResponse}\".\nLet's try again, {$name}!\n");
        break;
    }

    $trueCount++;
    
    if ($trueCount === $movesNum) {
        print_r ("Congratulations, " . $name . "!\n");
    }
}
